name: Maven Build & SAST Scan
on:
 push:
   branches: [ "main" ]
 pull_request:
   branches: [ "main" ]
jobs:
 build-and-scan:
   runs-on: ubuntu-latest
   steps:
     # Checkout repository
     - uses: actions/checkout@v4
     # Set up Java
     - name: Set up JDK 17
       uses: actions/setup-java@v4
       with:
         java-version: '17'
         distribution: 'temurin'
         cache: maven
     # Build and test with Maven
     - name: Build with Maven
       run: mvn --batch-mode --update-snapshots verify
     # Run OWASP Dependency-Check for SAST
     - name: Run OWASP Dependency-Check
       run: mvn org.owasp:dependency-check-maven:check
     # Upload Maven build artifacts
     - name: Upload JAR Artifacts
       uses: actions/upload-artifact@v4
       with:
         name: java-packages
         path: target/*.jar
